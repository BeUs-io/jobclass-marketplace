import{a as K}from"./chunk-MCQRGVL4.js";import{a as q}from"./chunk-5ZT7HOS2.js";import"./chunk-M6EYYLNU.js";import{b as H,c as O,d as R,e as $,f as D,g as Q,r as Y}from"./chunk-4L7TKHLH.js";import{h as G}from"./chunk-L6NTJRNO.js";import{$ as j,Da as o,Ea as I,Pa as u,Sa as l,Ua as b,Wb as A,Xa as t,Xb as B,Ya as i,Yb as J,Za as x,a as P,ab as h,ac as F,bb as v,cb as s,cc as W,fc as z,ha as f,ia as _,ja as g,jb as r,ka as y,kb as p,lb as w,mb as U,pb as C,qb as E,rb as T,tb as L,vb as N,wb as S,xb as M,yb as V,za as k}from"./chunk-WKEOFE6Q.js";var X=a=>["/job",a];function Z(a,c){if(a&1&&(t(0,"span"),r(1),i()),a&2){let e=s();o(),w(" at ",e.user==null?null:e.user.company,"")}}function ee(a,c){if(a&1&&(t(0,"span",29),r(1),i()),a&2){let e=s();b("bg-white",e.activeTab==="notifications")("text-primary",e.activeTab==="notifications")("bg-red-500",e.activeTab!=="notifications")("text-white",e.activeTab!=="notifications"),o(),w(" ",e.unreadCount," ")}}function te(a,c){if(a&1){let e=h();t(0,"button",17),v("click",function(){f(e);let n=s();return _(n.activeTab="posted")}),r(1," Posted Jobs "),i()}if(a&2){let e=s();b("bg-primary",e.activeTab==="posted")("text-white",e.activeTab==="posted")}}function ie(a,c){if(a&1){let e=h();t(0,"div",32)(1,"h2",33),r(2,"Edit Profile"),i(),t(3,"form",34),v("ngSubmit",function(){f(e);let n=s(2);return _(n.saveProfile())}),t(4,"div")(5,"label",35),r(6,"Name"),i(),t(7,"input",36),T("ngModelChange",function(n){f(e);let m=s(2);return E(m.editedUser.name,n)||(m.editedUser.name=n),_(n)}),i()(),t(8,"div")(9,"label",35),r(10,"Location"),i(),t(11,"input",37),T("ngModelChange",function(n){f(e);let m=s(2);return E(m.editedUser.location,n)||(m.editedUser.location=n),_(n)}),i()(),t(12,"div")(13,"label",35),r(14,"Phone"),i(),t(15,"input",38),T("ngModelChange",function(n){f(e);let m=s(2);return E(m.editedUser.phone,n)||(m.editedUser.phone=n),_(n)}),i()(),t(16,"div")(17,"label",35),r(18,"Bio"),i(),t(19,"textarea",39),T("ngModelChange",function(n){f(e);let m=s(2);return E(m.editedUser.bio,n)||(m.editedUser.bio=n),_(n)}),i()(),t(20,"div",40)(21,"button",41),r(22,"Save Changes"),i(),t(23,"button",42),v("click",function(){f(e);let n=s(2);return _(n.toggleEditMode())}),r(24,"Cancel"),i()()()()}if(a&2){let e=s(2);o(7),C("ngModel",e.editedUser.name),o(4),C("ngModel",e.editedUser.location),o(4),C("ngModel",e.editedUser.phone),o(4),C("ngModel",e.editedUser.bio)}}function ne(a,c){if(a&1&&(t(0,"div",32)(1,"h2",33),r(2,"Profile Information"),i(),t(3,"div",43)(4,"div")(5,"span",44),r(6,"Location"),i(),t(7,"p",25),r(8),i()(),t(9,"div")(10,"span",44),r(11,"Phone"),i(),t(12,"p",25),r(13),i()(),t(14,"div")(15,"span",44),r(16,"Bio"),i(),t(17,"p",45),r(18),i()(),t(19,"div")(20,"span",44),r(21,"Member Since"),i(),t(22,"p",25),r(23),S(24,"date"),i()()()()),a&2){let e=s(2);o(8),p((e.user==null?null:e.user.location)||"Not specified"),o(5),p((e.user==null?null:e.user.phone)||"Not specified"),o(5),p((e.user==null?null:e.user.bio)||"No bio added yet"),o(5),p(V(24,4,e.user==null?null:e.user.createdAt,"MMMM yyyy"))}}function re(a,c){a&1&&(t(0,"div",48),g(),t(1,"svg",49),x(2,"path",50),i(),y(),t(3,"p",51),r(4,"Upload your resume to apply for jobs faster"),i(),t(5,"button",52),r(6,"Upload Resume"),i()())}function ae(a,c){a&1&&(t(0,"div",53)(1,"div",54),g(),t(2,"svg",55),x(3,"path",56),i(),y(),t(4,"div")(5,"p",25),r(6,"resume.pdf"),i(),t(7,"p",57),r(8,"Uploaded 2 days ago"),i()()(),t(9,"button",58),r(10,"Replace"),i()())}function oe(a,c){if(a&1&&(t(0,"div",32)(1,"h2",33),r(2,"Resume"),i(),u(3,re,7,0,"div",46)(4,ae,11,0,"div",47),i()),a&2){let e=s(2);o(3),l("ngIf",!(e.user!=null&&e.user.resume)),o(),l("ngIf",e.user==null?null:e.user.resume)}}function le(a,c){if(a&1&&(t(0,"div",30),u(1,ie,25,4,"div",31)(2,ne,25,7,"div",31)(3,oe,5,2,"div",31),i()),a&2){let e=s();o(),l("ngIf",e.editMode),o(),l("ngIf",!e.editMode),o(),l("ngIf",(e.user==null?null:e.user.role)==="jobseeker")}}function de(a,c){a&1&&(t(0,"div",65),g(),t(1,"svg",49),x(2,"path",66),i(),y(),t(3,"p",8),r(4,"No notifications yet"),i()())}function se(a,c){if(a&1&&(t(0,"a",76),r(1," View Details \u2192 "),i()),a&2){let e=s().$implicit;l("href",e.actionUrl,k)}}function me(a,c){a&1&&(t(0,"button",77),g(),t(1,"svg",78),x(2,"path",79)(3,"path",80),i()())}function ce(a,c){if(a&1){let e=h();t(0,"div",67),v("click",function(){let n=f(e).$implicit,m=s(2);return _(m.markAsRead(n.id))}),t(1,"div",4)(2,"div",68)(3,"div",69)(4,"span",70),r(5),i(),t(6,"span",71),r(7),S(8,"date"),i()(),t(9,"h4",72),r(10),i(),t(11,"p",73),r(12),i(),u(13,se,2,1,"a",74),i(),u(14,me,4,0,"button",75),i()()}if(a&2){let e=c.$implicit,d=s(2);b("bg-blue-50",!e.read)("border-blue-200",!e.read)("bg-white",e.read)("border-gray-200",e.read),o(4),l("ngClass",d.getNotificationTypeClass(e.type)),o(),w(" ",d.getNotificationTypeLabel(e.type)," "),o(2),p(V(8,15,e.createdAt,"short")),o(3),p(e.title),o(2),p(e.message),o(),l("ngIf",e.actionUrl),o(),l("ngIf",!e.read)}}function pe(a,c){if(a&1){let e=h();t(0,"div",59)(1,"div",32)(2,"div",60)(3,"h2",61),r(4,"Notifications"),i(),t(5,"button",62),v("click",function(){f(e);let n=s();return _(n.clearAllNotifications())}),r(6," Clear All "),i()(),u(7,de,5,0,"div",63),t(8,"div",43),u(9,ce,15,18,"div",64),i()()()}if(a&2){let e=s();o(7),l("ngIf",e.notifications.length===0),o(2),l("ngForOf",e.notifications)}}function ue(a,c){a&1&&(t(0,"div",65),g(),t(1,"svg",49),x(2,"path",82),i(),y(),t(3,"p",51),r(4,"You haven't saved any jobs yet"),i(),t(5,"a",83),r(6,"Browse Jobs"),i()())}function ve(a,c){if(a&1&&(t(0,"span"),r(1),i()),a&2){let e=s().$implicit,d=s(2);o(),p(d.formatSalary(e.salary))}}function fe(a,c){if(a&1){let e=h();t(0,"div",84)(1,"div",4)(2,"div",85),x(3,"img",86),t(4,"div")(5,"h4",25)(6,"a",87),r(7),i()(),t(8,"p",44),r(9),i(),t(10,"div",88)(11,"span"),r(12),i(),u(13,ve,2,1,"span",11),i()()(),t(14,"button",89),v("click",function(){let n=f(e).$implicit,m=s(2);return _(m.removeSavedJob(n.id))}),g(),t(15,"svg",90),x(16,"path",91),i()()()()}if(a&2){let e=c.$implicit;o(3),l("src",e.company.logo,k)("alt",e.company.name),o(3),l("routerLink",N(8,X,e.id)),o(),p(e.title),o(2),U("",e.company.name," \u2022 ",e.location,""),o(3),p(e.type),o(),l("ngIf",e.salary)}}function _e(a,c){if(a&1&&(t(0,"div",59)(1,"div",32)(2,"h2",33),r(3,"Saved Jobs"),i(),u(4,ue,7,0,"div",63),S(5,"async"),t(6,"div",59),u(7,fe,17,10,"div",81),S(8,"async"),i()()()),a&2){let e,d=s();o(4),l("ngIf",((e=M(5,2,d.savedJobs$))==null?null:e.length)===0),o(3),l("ngForOf",M(8,4,d.savedJobs$))}}function xe(a,c){a&1&&(t(0,"div",59)(1,"div",32)(2,"h2",33),r(3,"Job Applications"),i(),t(4,"div",65),g(),t(5,"svg",49),x(6,"path",92),i(),y(),t(7,"p",8),r(8,"Application tracking coming soon!"),i()()()())}var Te=(()=>{class a{constructor(e,d){this.authService=e,this.jobService=d,this.user=null,this.editMode=!1,this.activeTab="overview",this.notifications=[],this.unreadCount=0,this.editedUser={}}ngOnInit(){this.authService.currentUser$.subscribe(e=>{this.user=e,e&&(this.editedUser=P({},e))}),this.authService.notifications$.subscribe(e=>{this.notifications=e}),this.authService.getUnreadNotificationCount().subscribe(e=>{this.unreadCount=e}),this.savedJobs$=this.jobService.getSavedJobs()}toggleEditMode(){this.editMode=!this.editMode,this.editMode&&this.user&&(this.editedUser=P({},this.user))}saveProfile(){this.authService.updateProfile(this.editedUser).subscribe(e=>{this.user=e,this.editMode=!1})}markAsRead(e){this.authService.markNotificationAsRead(e)}clearAllNotifications(){confirm("Are you sure you want to clear all notifications?")&&this.authService.clearAllNotifications()}removeSavedJob(e){this.jobService.toggleSaveJob(e)}getNotificationTypeClass(e){switch(e){case"job_alert":return"bg-blue-100 text-blue-800";case"application_status":return"bg-green-100 text-green-800";case"message":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}}getNotificationTypeLabel(e){switch(e){case"job_alert":return"Job Alert";case"application_status":return"Application";case"message":return"Message";default:return"System"}}formatSalary(e){return`${e.min.toLocaleString()} - ${e.max.toLocaleString()}`}static{this.\u0275fac=function(d){return new(d||a)(I(q),I(K))}}static{this.\u0275cmp=j({type:a,selectors:[["app-profile"]],standalone:!0,features:[L],decls:58,vars:32,consts:[[1,"min-h-screen","bg-gray-50","py-8"],[1,"container","mx-auto","px-4"],[1,"max-w-6xl","mx-auto"],[1,"bg-white","rounded-lg","shadow-sm","p-6","mb-6"],[1,"flex","items-start","justify-between"],[1,"flex","items-center","space-x-4"],[1,"w-20","h-20","rounded-full","object-cover",3,"src","alt"],[1,"text-2xl","font-bold","text-gray-800"],[1,"text-gray-600"],[1,"text-sm","text-gray-500","mt-1"],[1,"capitalize"],[4,"ngIf"],[1,"btn","btn-outline",3,"click"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-1"],[1,"bg-white","rounded-lg","shadow-sm","p-4","mb-6"],[1,"space-y-1"],[1,"w-full","text-left","px-4","py-2","rounded-lg","hover:bg-gray-100","transition-colors",3,"click"],[1,"w-full","text-left","px-4","py-2","rounded-lg","hover:bg-gray-100","transition-colors","flex","justify-between","items-center",3,"click"],["class","px-2 py-0.5 text-xs rounded-full",3,"bg-white","text-primary","bg-red-500","text-white",4,"ngIf"],["class","w-full text-left px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",3,"bg-primary","text-white","click",4,"ngIf"],[1,"bg-white","rounded-lg","shadow-sm","p-4"],[1,"font-semibold","mb-3"],[1,"space-y-2"],[1,"flex","justify-between","text-sm"],[1,"font-medium"],[1,"lg:col-span-2"],["class","space-y-6",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"px-2","py-0.5","text-xs","rounded-full"],[1,"space-y-6"],["class","bg-white rounded-lg shadow-sm p-6",4,"ngIf"],[1,"bg-white","rounded-lg","shadow-sm","p-6"],[1,"text-xl","font-semibold","mb-4"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","name","name",1,"input-field",3,"ngModelChange","ngModel"],["type","text","name","location",1,"input-field",3,"ngModelChange","ngModel"],["type","tel","name","phone",1,"input-field",3,"ngModelChange","ngModel"],["name","bio","rows","4",1,"input-field",3,"ngModelChange","ngModel"],[1,"flex","gap-4"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-outline",3,"click"],[1,"space-y-3"],[1,"text-sm","text-gray-600"],[1,"text-gray-700"],["class","text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",4,"ngIf"],["class","flex items-center justify-between",4,"ngIf"],[1,"text-center","py-8","border-2","border-dashed","border-gray-300","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-gray-400","mx-auto","mb-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"text-gray-600","mb-3"],[1,"btn","btn-primary"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-sm","text-gray-500"],[1,"text-primary","hover:text-primary-dark"],[1,"space-y-4"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-semibold"],[1,"text-sm","text-gray-600","hover:text-gray-900",3,"click"],["class","text-center py-8",4,"ngIf"],["class","p-4 rounded-lg border transition-colors cursor-pointer",3,"bg-blue-50","border-blue-200","bg-white","border-gray-200","click",4,"ngFor","ngForOf"],[1,"text-center","py-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"],[1,"p-4","rounded-lg","border","transition-colors","cursor-pointer",3,"click"],[1,"flex-1"],[1,"flex","items-center","mb-1"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium","mr-2",3,"ngClass"],[1,"text-xs","text-gray-500"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],["class","text-sm text-primary hover:text-primary-dark mt-2 inline-block",3,"href",4,"ngIf"],["class","text-blue-600 hover:text-blue-800",4,"ngIf"],[1,"text-sm","text-primary","hover:text-primary-dark","mt-2","inline-block",3,"href"],[1,"text-blue-600","hover:text-blue-800"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["d","M10 12a2 2 0 100-4 2 2 0 000 4z"],["fill-rule","evenodd","d","M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule","evenodd"],["class","border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",4,"ngFor","ngForOf"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],["routerLink","/jobs",1,"btn","btn-primary"],[1,"border","border-gray-200","rounded-lg","p-4","hover:shadow-md","transition-shadow"],[1,"flex","items-start","space-x-3"],[1,"w-12","h-12","rounded-lg","object-cover",3,"src","alt"],[1,"hover:text-primary",3,"routerLink"],[1,"flex","items-center","gap-3","mt-2","text-sm","text-gray-500"],[1,"text-gray-400","hover:text-red-500",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["fill-rule","evenodd","d","M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule","evenodd"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"]],template:function(d,n){if(d&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),x(6,"img",6),t(7,"div")(8,"h1",7),r(9),i(),t(10,"p",8),r(11),i(),t(12,"p",9)(13,"span",10),r(14),i(),u(15,Z,2,1,"span",11),i()()(),t(16,"button",12),v("click",function(){return n.toggleEditMode()}),r(17),i()()(),t(18,"div",13)(19,"div",14)(20,"div",15)(21,"nav",16)(22,"button",17),v("click",function(){return n.activeTab="overview"}),r(23," Overview "),i(),t(24,"button",18),v("click",function(){return n.activeTab="notifications"}),t(25,"span"),r(26,"Notifications"),i(),u(27,ee,2,9,"span",19),i(),t(28,"button",17),v("click",function(){return n.activeTab="saved"}),r(29," Saved Jobs "),i(),t(30,"button",17),v("click",function(){return n.activeTab="applications"}),r(31," Applications "),i(),u(32,te,2,4,"button",20),i()(),t(33,"div",21)(34,"h3",22),r(35,"Quick Stats"),i(),t(36,"div",23)(37,"div",24)(38,"span",8),r(39,"Profile Views"),i(),t(40,"span",25),r(41,"1,234"),i()(),t(42,"div",24)(43,"span",8),r(44,"Applications"),i(),t(45,"span",25),r(46,"23"),i()(),t(47,"div",24)(48,"span",8),r(49,"Saved Jobs"),i(),t(50,"span",25),r(51),S(52,"async"),i()()()()(),t(53,"div",26),u(54,le,4,3,"div",27)(55,pe,10,2,"div",28)(56,_e,9,6,"div",28)(57,xe,9,0,"div",28),i()()()()()),d&2){let m;o(6),l("src",(n.user==null?null:n.user.avatar)||"https://ui-avatars.com/api/?name="+(n.user==null?null:n.user.name),k)("alt",n.user==null?null:n.user.name),o(3),p(n.user==null?null:n.user.name),o(2),p(n.user==null?null:n.user.email),o(3),p(n.user==null?null:n.user.role),o(),l("ngIf",n.user==null?null:n.user.company),o(2),w(" ",n.editMode?"Cancel":"Edit Profile"," "),o(5),b("bg-primary",n.activeTab==="overview")("text-white",n.activeTab==="overview"),o(2),b("bg-primary",n.activeTab==="notifications")("text-white",n.activeTab==="notifications"),o(3),l("ngIf",n.unreadCount>0),o(),b("bg-primary",n.activeTab==="saved")("text-white",n.activeTab==="saved"),o(2),b("bg-primary",n.activeTab==="applications")("text-white",n.activeTab==="applications"),o(2),l("ngIf",(n.user==null?null:n.user.role)==="employer"),o(19),p(((m=M(52,30,n.savedJobs$))==null?null:m.length)||0),o(3),l("ngIf",n.activeTab==="overview"),o(),l("ngIf",n.activeTab==="notifications"),o(),l("ngIf",n.activeTab==="saved"),o(),l("ngIf",n.activeTab==="applications")}},dependencies:[z,A,B,J,F,W,Y,Q,H,O,R,D,$,G],encapsulation:2})}}return a})();export{Te as ProfileComponent};
